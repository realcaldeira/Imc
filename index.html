<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="./src/styles.css">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <title>Praticando KnockutJS</title>
</head>

<body>



    <div class="body">
        <img src="./src/assets/logo.jpg" class="logoImg">


        <div class="dados">
            <div class="campos">
                Peso:
                <input data-bind='value: peso, valueUpdate: "afterkeydown"' placeholder="85" />
            </div>
            <div class="campos">
                Altura:
                <input data-bind='value: altura, valueUpdate: "afterkeydown"' placeholder="1.80" />
            </div>
            <button data-bind='click: calcular, enable: peso().length > 0 && altura().length > 0'>Calcular</button>
        </div>

        <!--
        <div class="resultado">
            <p> <strong>RESULTADO:</strong> Cara expressiva Sinto muito, mas o seu IMC é de 26.2 kg/m2, por isso você está acima do peso e deveria emagrecer no mínimo 4 kg. O seu peso ideal pode variar entre 60 kg e 81 kg por isso para emagrecer com saúde é importante comer mais frutas e verduras além de praticar exercício físico entre 2 e 3 vezes por semana, ingerindo 2712 calorias por dia.. Você deve ainda falar com seu médico para fazer exames de sangue para saber se o seu colesterol e triglicerídeos estão bem. Um nutricionista também pode te ajudar a emagrecer comendo bem, mas além da dieta é também importante fazer exercícios físicos bem orientado por um preparador físico para emagrecer mais rápido.</p>

            <button>Fechar</button>
        </div>
        -->
        <span data-bind="text: result"></span>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.1/knockout-latest.js" integrity="sha512-2AL/VEauKkZqQU9BHgnv48OhXcJPx9vdzxN1JrKDVc4FPU/MEE/BZ6d9l0mP7VmvLsjtYwqiYQpDskK9dG8KBA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script>
        var ImcSimple = function () {
            this.peso = ko.observable("");
            this.altura = ko.observable("");
            this.result = ko.observable("");

            this.calcular = function () {
                if (this.peso() != "" || this.altura() != "") {
                    var peso = this.peso();
                    console.log(peso)
                    var altura = this.altura();
                    var total = peso / (altura * 2);
                    this.result(Math.round(total));
                } else {
                    alert("Você precisa digitar o peso e a altura amiguinho.")
                }
            }
        }.bind(this);

        ko.applyBindings(new ImcSimple());
    </script>
</body>

</html>